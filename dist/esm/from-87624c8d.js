/**
 * MIT License
 * 
 * Copyright (c) 2020 动中之动
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

import{S as r,r as n,e,c as t,a as o,h as u,b as c}from"./Subscriber-66236423.js";var i=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function f(r){return r}function s(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a(r)}function a(r){return 0===r.length?f:1===r.length?r[0]:function(n){return r.reduce((function(r,n){return n(r)}),n)}}var l=function(){function o(r){this._isScalar=!1,r&&(this._subscribe=r)}return o.prototype.lift=function(r){var n=new o;return n.source=this,n.operator=r,n},o.prototype.subscribe=function(o,u,c){var i=this.operator,f=function(t,o,u){if(t){if(t instanceof r)return t;if(t[n])return t[n]()}return t||o||u?new r(t,o,u):new r(e)}(o,u,c);if(i?f.add(i.call(f,this.source)):f.add(this.source||t.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),t.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f},o.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){t.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=e),!function(n){for(;n;){var e=n,t=e.closed,o=e.destination,u=e.isStopped;if(t||u)return!1;n=o&&o instanceof r?o:null}return!0}(n)?console.warn(e):n.error(e)}},o.prototype.forEach=function(r,n){var e=this;return new(n=d(n))((function(n,t){var o;o=e.subscribe((function(n){try{r(n)}catch(r){t(r),o&&o.unsubscribe()}}),t,n)}))},o.prototype._subscribe=function(r){var n=this.source;return n&&n.subscribe(r)},o.prototype[i]=function(){return this},o.prototype.pipe=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return 0===r.length?this:a(r)(this)},o.prototype.toPromise=function(r){var n=this;return new(r=d(r))((function(r,e){var t;n.subscribe((function(r){return t=r}),(function(r){return e(r)}),(function(){return r(t)}))}))},o.create=function(r){return new o(r)},o}();function d(r){if(r||(r=Promise),!r)throw new Error("no Promise impl found");return r}var h=function(r){return function(n){for(var e=0,t=r.length;e<t&&!n.closed;e++)n.next(r[e]);n.complete()}};function b(r,n){return new l((function(e){var t=new o,u=0;return t.add(n.schedule((function(){u!==r.length?(e.next(r[u++]),e.closed||t.add(this.schedule())):e.complete()}))),t}))}function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var y=p(),v=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function w(r){return!!r&&"function"!=typeof r.subscribe&&"function"==typeof r.then}var m=function(r){if(r&&"function"==typeof r[i])return t=r,function(r){var n=t[i]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(r)};if(v(r))return h(r);if(w(r))return e=r,function(r){return e.then((function(n){r.closed||(r.next(n),r.complete())}),(function(n){return r.error(n)})).then(null,u),r};if(r&&"function"==typeof r[y])return n=r,function(r){for(var e=n[y]();;){var t=void 0;try{t=e.next()}catch(n){return r.error(n),r}if(t.done){r.complete();break}if(r.next(t.value),r.closed)break}return"function"==typeof e.return&&r.add((function(){e.return&&e.return()})),r};var n,e,t,o=c(r)?"an invalid object":"'"+r+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function E(r,n){if(null!=r){if(function(r){return r&&"function"==typeof r[i]}(r))return function(r,n){return new l((function(e){var t=new o;return t.add(n.schedule((function(){var o=r[i]();t.add(o.subscribe({next:function(r){t.add(n.schedule((function(){return e.next(r)})))},error:function(r){t.add(n.schedule((function(){return e.error(r)})))},complete:function(){t.add(n.schedule((function(){return e.complete()})))}}))}))),t}))}(r,n);if(w(r))return function(r,n){return new l((function(e){var t=new o;return t.add(n.schedule((function(){return r.then((function(r){t.add(n.schedule((function(){e.next(r),t.add(n.schedule((function(){return e.complete()})))})))}),(function(r){t.add(n.schedule((function(){return e.error(r)})))}))}))),t}))}(r,n);if(v(r))return b(r,n);if(function(r){return r&&"function"==typeof r[y]}(r)||"string"==typeof r)return function(r,n){if(!r)throw new Error("Iterable cannot be null");return new l((function(e){var t,u=new o;return u.add((function(){t&&"function"==typeof t.return&&t.return()})),u.add(n.schedule((function(){t=r[y](),u.add(n.schedule((function(){if(!e.closed){var r,n;try{var o=t.next();r=o.value,n=o.done}catch(r){return void e.error(r)}n?e.complete():(e.next(r),this.schedule())}})))}))),u}))}(r,n)}throw new TypeError((null!==r&&typeof r||r)+" is not observable")}function S(r,n){return n?E(r,n):r instanceof l?r:new l(m(r))}export{l as O,h as a,b,S as f,s as p,m as s};
